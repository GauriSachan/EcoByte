<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EcoCycle | Home</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="description" content="EcoCycle — Turn e-waste into opportunity. Buy, sell, repair & repurpose with impact." />
  <script defer src="script.js"></script>
</head>
<body>
  <!-- ========================
       NAVBAR
  ========================= -->
  <header class="site-header" role="banner">
    <nav class="navbar" aria-label="Main navigation">
      <div class="brand">
        <button id="navToggle" class="hamburger" aria-label="Open menu" aria-expanded="false">☰</button>
        <a href="index.html" class="logo" aria-label="EcoCycle home">♻️ <span>EcoCycle</span></a>
      </div>

      <div class="nav-left">
        <ul class="nav-links">
          <li><a href="#features">Features</a></li>
          <li><a href="#marketplace">Marketplace</a></li>
          <li><a href="repair.html">Repair Hub</a></li>
          <li><a href="community.html">Community</a></li>
        </ul>
      </div>

      <div class="nav-right">
        <div class="search-wrap" role="search">
          <input id="navSearch" type="search" placeholder="Search devices, parts..." aria-label="Search" />
          <button id="searchBtn" aria-label="Search">🔎</button>
        </div>

        <button id="themeToggle" class="icon-btn" aria-pressed="false" title="Toggle theme">🌗</button>
        <a class="cta" href="upload.html">Upload</a>
      </div>
    </nav>

    <!-- Mobile navigation overlay -->
    <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
      <ul>
        <li><a href="#features">Features</a></li>
        <li><a href="#marketplace">Marketplace</a></li>
        <li><a href="repair.html">Repair Hub</a></li>
        <li><a href="community.html">Community</a></li>
        <li><a href="upload.html">Upload</a></li>
      </ul>
    </div>
  </header>

  <!-- ========================
       HERO
  ========================= -->
  <section class="hero" id="home" aria-label="Turn e-waste into opportunity">
    <div class="hero-inner">
      <div class="hero-left">
        <h1>Turn E-Waste Into Opportunity 🌱</h1>
        <p class="lead">Buy, sell, repair, and repurpose electronics. Track your eco-impact, earn Green Coins, and join a community that cares.</p>

        <div class="hero-ctas">
          <a class="btn primary" href="marketplace.html">Explore Marketplace</a>
          <a class="btn ghost" href="repairhub.html">Find Repairers</a>
        </div>

        <ul class="hero-badges" aria-hidden="true">
          <li>AI Repair Score</li>
          <li>CO₂ Saved Tracker</li>
          <li>Community Repairs</li>
        </ul>
      </div>

      <div class="hero-right">
        <div class="hero-stats card" aria-hidden="true">
          <div class="stat">
            <div class="stat-num" data-target="12450">0</div>
            <div class="stat-label">Items Reused</div>
          </div>
          <div class="stat">
            <div class="stat-num" data-target="38240">0</div>
            <div class="stat-label">KG CO₂ Saved</div>
          </div>
          <div class="stat">
            <div class="stat-num" data-target="87600">0</div>
            <div class="stat-label">Green Coins Earned</div>
          </div>
        </div>

        <div class="mock-device">
          <div class="device-screen">
            <div class="device-topbar">
              <span class="pill">AI Repair</span>
              <span class="pill green">Score 78</span>
            </div>
            <div class="device-content">
              <img src="https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="Old phone" />
            </div>
            <div class="device-footer">
              <div class="mini-stat">Repairable: <strong>78%</strong></div>
              <div class="mini-stat">Recyclable: <strong>91%</strong></div>
            </div>
          </div>
          <div class="device-shadow"></div>
        </div>
      </div>
    </div>

    <div class="wave-divider" aria-hidden="true"></div>
  </section>

  <!-- ========================
       FEATURES
  ========================= -->
  <section id="features" class="features" aria-labelledby="features-title">
    <div class="container">
      <h2 id="features-title">Built for impact — features you’ll love</h2>
      <p class="sub">Everything you need to make e-waste meaningful again.</p>

      <div class="features-grid">
        <article class="feature-card">
          <div class="icon">⚙️</div>
          <h3>AI Repairability</h3>
          <p>Upload a short video and our AI provides a repair score, estimated parts & difficulty.</p>
        </article>

        <article class="feature-card">
          <div class="icon">🔄</div>
          <h3>Marketplace</h3>
          <p>Sell parts, buy refurbished electronics or swap components with your local community.</p>
        </article>

        <article class="feature-card">
          <div class="icon">🛠</div>
          <h3>Repair Hub</h3>
          <p>Find vetted repairers, DIY guides, and step-by-step teardown instructions.</p>
        </article>

        <article class="feature-card">
          <div class="icon">🏆</div>
          <h3>Gamified Rewards</h3>
          <p>Earn Green Coins for uploads, repairs and community help — redeem for discounts.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- ========================
       MARKETPLACE
  ========================= -->
  <section id="marketplace" class="marketplace" aria-labelledby="market-title">
    <div class="container">
      <h2 id="market-title">Trending on Marketplace</h2>
      <p class="sub">Refurbished & salvaged items — zero-waste goodness.</p>

      <div class="card-grid">
        <!-- Card 1 -->
        <article class="product-card">
          <div class="ribbon">Best Seller</div>
          <img class="product-img" src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=800&auto=format&fit=crop&s=placeholder" alt="Refurbished Phone">
          <div class="product-body">
            <h3>Refurbished Phone X</h3>
            <p class="muted">Battery & screen replaced. 6 mos warranty.</p>
            <div class="price-row">
              <div class="price">₹5,499</div>
              <button class="btn small outline" onclick="addToCart('Refurbished Phone X')">Add</button>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="product-card">
          <div class="ribbon alt">Eco Kit</div>
          <img class="product-img" src="https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=800&auto=format&fit=crop&s=placeholder" alt="Scrap Kit">
          <div class="product-body">
            <h3>DIY Scrap Kit</h3>
            <p class="muted">Starter kit for learning electronics with recycled parts.</p>
            <div class="price-row">
              <div class="price">₹899</div>
              <button class="btn small outline" onclick="addToCart('DIY Scrap Kit')">Add</button>
            </div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="product-card">
          <div class="ribbon">Repair Service</div>
          <img class="product-img" src="https://images.unsplash.com/photo-1519452575417-564f8ccce952?q=80&w=800&auto=format&fit=crop&s=placeholder" alt="Repair service">
          <div class="product-body">
            <h3>Screen Replacement</h3>
            <p class="muted">Certified repair centers near you — secure & fast.</p>
            <div class="price-row">
              <div class="price">₹1,199</div>
              <button class="btn small outline" onclick="addToCart('Screen Replacement')">Add</button>
            </div>
          </div>
        </article>
      </div>

      <div class="market-cta">
        <a href="marketplace.html" class="btn primary">View all listings</a>
      </div>
    </div>
  </section>

  <!-- ========================
       REPAIR HUB
  ========================= -->
  <section id="repair" class="repair" aria-labelledby="repair-title">
    <div class="container narrow">
      <h2 id="repair-title">Repair Hub — Learn & Earn</h2>
      <p class="sub">Quick diagnostics, tutorials and a listing of certified repairers</p>

      <div class="repair-grid">
        <div class="repair-card">
          <h3>Quick Diagnostic</h3>
          <p>Upload a short clip and get a free diagnostic. Requires camera permission.</p>
          <div class="diagnose-row">
            <input id="diagnoseFile" type="file" accept="video/*" />
            <button class="btn" onclick="runDiagnostic()">Run Diagnostic</button>
          </div>
        </div>

        <div class="repair-card">
          <h3>Top Repairers Near You</h3>
          <ul class="repairers">
            <li>GreenFix Electronics — 1.2 km</li>
            <li>ReNew Solutions — 3.4 km</li>
            <li>Parts n' Peace — 4.1 km</li>
          </ul>
          <a class="link" href="repairhub.html">View all repairers</a>
        </div>

        <div class="repair-card">
          <h3>DIY Guides</h3>
          <p>From battery swaps to data-safe wipes — step-by-step, curated by our community.</p>
          <a class="link" href="guides.html">Explore guides</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ========================
       TESTIMONIALS
  ========================= -->
  <section id="community" class="community">
    <div class="container">
      <h2>Community Voices</h2>
      <div class="testimonials" id="testimonials">
        <div class="testimonial active">
          <blockquote>“Sold my old laptop and bought a refurbished one — saved ₹8,000 & felt great!”</blockquote>
          <cite>— Aisha, Mumbai</cite>
        </div>
        <div class="testimonial">
          <blockquote>“The AI repair checker told me a simple part swap — repaired it myself and earned coins.”</blockquote>
          <cite>— Rohan, Delhi</cite>
        </div>
        <div class="testimonial">
          <blockquote>“Community meetups helped me start a small repair service. Love EcoCycle!”</blockquote>
          <cite>— Priya, Pune</cite>
        </div>
      </div>

      <div class="test-controls">
        <button onclick="prevTestimonial()">◀</button>
        <button onclick="nextTestimonial()">▶</button>
      </div>
    </div>
  </section>

  <!-- ========================
       FAQ
  ========================= -->
  <section class="faq container narrow">
    <h2>FAQs</h2>
    <div class="accordion">
      <button class="acc-btn">How does the AI repair score work?</button>
      <div class="acc-panel"><p>We analyze video and image inputs to estimate repairability, common parts, and difficulty. Scores are estimates — get a professional repairer for confirmation.</p></div>

      <button class="acc-btn">What are Green Coins?</button>
      <div class="acc-panel"><p>Green Coins are in-app rewards you earn for uploads, repairs, and community activities. Redeem for discounts and kits in our marketplace.</p></div>

      <button class="acc-btn">Can I trust refurbished listings?</button>
      <div class="acc-panel"><p>All sellers are verified and may include seller ratings & warranty info. Use our chat to ask questions before purchasing.</p></div>
    </div>
  </section>

  <!-- ========================
       FOOTER
  ========================= -->
  <footer class="site-footer">
    <div class="container narrow">
      <div class="footer-grid">
        <div>
          <h3>EcoCycle</h3>
          <p>Turn e-waste into opportunity. Buy, sell, repair, and track your impact.</p>
          <div class="socials">🔗 <a href="#">Twitter</a> • <a href="#">Instagram</a> • <a href="#">GitHub</a></div>
        </div>

        <div>
          <h4>Quick Links</h4>
          <ul>
            <li><a href="marketplace.html">Marketplace</a></li>
            <li><a href="repairhub.html">Repair Hub</a></li>
            <li><a href="upload.html">Upload</a></li>
          </ul>
        </div>

        <div>
          <h4>Newsletter</h4>
          <p>Get monthly tips & hackathon updates.</p>
          <form id="newsletterForm">
            <input id="newsletterEmail" type="email" placeholder="Email address" required />
            <button class="btn small">Subscribe</button>
            <p id="newsletterMsg" class="muted small" aria-live="polite"></p>
          </form>
        </div>
      </div>

      <div class="smallprint">© 2025 EcoCycle — Built with ❤️ for sustainability.</div>
    </div>
  </footer>

  <!-- Small cart toast -->
  <div id="cartToast" class="cart-toast" role="status" aria-live="polite"></div>
  <!-- ========================
     SIDE PANEL
========================= -->
<div id="sidePanel" class="side-panel" aria-hidden="true">
  <button id="closePanel" class="close-btn" aria-label="Close side panel">×</button>
  
  <div class="panel-content">
    <h2>Quick Actions</h2>
    <ul>
      <li><a href="#features">Explore Features</a></li>
      <li><a href="#marketplace">Marketplace</a></li>
      <li><a href="#repair">Repair Hub</a></li>
      <li><a href="#community">Community</a></li>
      <li><a href="upload.html">Upload Item</a></li>
    </ul>

    <h2>Cart Summary</h2>
    <div id="panelCart" class="panel-cart">
      <p>No items in cart yet.</p>
    </div>

    <h2>Connect</h2>
    <div class="panel-socials">
      <a href="#" aria-label="Twitter">🐦 Twitter</a>
      <a href="#" aria-label="Instagram">📸 Instagram</a>
      <a href="#" aria-label="GitHub">💻 GitHub</a>
    </div>
  </div>
</div>

<!-- Side panel overlay -->
<div id="panelOverlay" class="panel-overlay" aria-hidden="true"></div>

<!-- Side panel toggle button -->
<button id="openPanelBtn" class="open-panel-btn" aria-label="Open side panel">☰</button>

<!-- Link the side panel CSS and JS -->
<link rel="stylesheet" href="sidepanel.css" />
<script defer src="sidepanel.js"></script>

<!-- Auth Button -->
<button id="authBtn" class="open-auth-btn">Login / Sign Up</button>

<!-- Link the auth CSS and JS -->
<link rel="stylesheet" href="auth.css" />
<script defer src="auth.js"></script>
<!-- ========================
     CHATBOT: Agtara
========================= -->
<div id="agtaraChat" class="chatbot">
  <div class="chatbot-header">🌱 Agtara — Your Eco Assistant</div>
  <div id="chatbotMessages" class="chatbot-messages"></div>
  <div class="chatbot-input">
    <input id="chatbotInput" type="text" placeholder="Ask me about e-waste..." />
    <button id="chatbotSend">Send</button>
  </div>
</div>

<style>
/* Chatbot Styles */
.chatbot {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 320px;
  max-height: 450px;
  background: #f9fff9;
  border: 2px solid #4caf50;
  border-radius: 16px;
  display: flex;
  flex-direction: column;
  font-family: "Segoe UI", sans-serif;
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
  overflow: hidden;
  z-index: 9999;
}
.chatbot-header {
  background: linear-gradient(135deg, #4caf50, #2e7d32);
  color: white;
  padding: 12px;
  font-weight: bold;
  text-align: center;
  font-size: 16px;
}
.chatbot-messages {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
  font-size: 14px;
  background: #ffffff;
}
.chatbot-messages .msg {
  margin-bottom: 10px;
  padding: 8px 10px;
  border-radius: 12px;
  max-width: 80%;
  line-height: 1.3;
}
.msg.user {
  background: #e8f5e9;
  color: #1b5e20;
  text-align: right;
  margin-left: auto;
}
.msg.bot {
  background: #c8e6c9;
  color: #1b5e20;
  text-align: left;
  margin-right: auto;
  font-weight: 500;
}
.chatbot-input {
  display: flex;
  border-top: 1px solid #ddd;
  background: #f1f8f1;
}
.chatbot-input input {
  flex: 1;
  padding: 10px;
  border: none;
  font-size: 14px;
  border-radius: 0;
  outline: none;
}
.chatbot-input button {
  background: #4caf50;
  color: white;
  border: none;
  padding: 10px 14px;
  cursor: pointer;
  font-size: 14px;
}
.chatbot-input button:hover {
  background: #43a047;
}
</style>

<script>
// Chatbot Logic
const chatbotMessages = document.getElementById("chatbotMessages");
const chatbotInput = document.getElementById("chatbotInput");
const chatbotSend = document.getElementById("chatbotSend");

// Knowledge base for Agtara
const responses = {
  "hi": "Hello 👋 I’m Agtara, your eco assistant! Ask me anything about EcoCycle or e-waste 🌱",
  "what is e-waste": "E-waste is discarded electrical or electronic devices. Recycling reduces pollution and saves resources ♻️",
  "marketplace": "Our Marketplace lets you buy refurbished devices, sell old parts, and reduce e-waste impact 🌍",
  "repair": "Check out our Repair Hub 🛠 — get diagnostics, tutorials, and find certified repairers near you!",
  "green coins": "🌟 Green Coins are rewards you earn for eco-friendly actions like uploads, repairs & community help.",
  "eco impact": "By reusing electronics, you save CO₂ emissions, reduce landfill waste, and make Earth greener 🌳",
  "bye": "Goodbye 👋 Stay eco-friendly with EcoCycle!"
};

// Add message to chat window
function addMessage(text, sender) {
  const msg = document.createElement("div");
  msg.classList.add("msg", sender);
  msg.textContent = text;
  chatbotMessages.appendChild(msg);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

// Handle user input
function handleUserInput() {
  const input = chatbotInput.value.trim().toLowerCase();
  if (!input) return;

  addMessage(chatbotInput.value, "user");
  chatbotInput.value = "";

  // Bot response
  let reply = "🤖 Sorry, I don’t know that yet. Try asking about e-waste, marketplace, repair, or Green Coins.";
  for (let key in responses) {
    if (input.includes(key)) {
      reply = responses[key];
      break;
    }
  }
  setTimeout(() => addMessage(reply, "bot"), 500);
}

chatbotSend.addEventListener("click", handleUserInput);
chatbotInput.addEventListener("keypress", e => {
  if (e.key === "Enter") handleUserInput();
});
</script>


</body>
</html>

